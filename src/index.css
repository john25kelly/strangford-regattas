:root{
  --bg: #f6f8fb; /* very light blue background */
  --card: #ffffff;
  --muted: #516172; /* muted slate blue */
  --accent: #0b3d91; /* deep RYA-like navy blue */
  --accent-2: #1e6fb8; /* brighter blue for accents */
  --border: #e6edf6; /* pale blue border */
}

*{box-sizing:border-box}
html,body,#root{height:100%;}
body{
  margin:0;
  font-family: Inter, system-ui, -apple-system, 'Segoe UI', Roboto, 'Helvetica Neue', Arial;
  background:var(--bg);
  color:var(--accent);
  -webkit-font-smoothing:antialiased;
  -moz-osx-font-smoothing:grayscale;
}

.app{min-height:100%;display:flex;flex-direction:column}
.site-header{background:var(--card);border-bottom:1px solid var(--border);position:relative;z-index:54}

/* Ensure the header background always spans the full viewport width (full-bleed)
   even when the user zooms or the layout viewport changes. The inner content
   (.header-inner) remains centered with its max-width (980px). */
.site-header{
  /* full-bleed without including scrollbar width to avoid horizontal scrollbar */
  width: calc(100vw - (100vw - 100%));
  box-sizing: border-box;
  /* keep header positioned normally (no negative margins needed) */
  left: 0;
  right: 0;
  margin-left: 0;
  margin-right: 0;
  position: relative;
}

.header-inner{max-width:980px;margin:0 auto;display:flex;align-items:center;justify-content:space-between;padding:12px 16px;position:relative}
.brand{display:flex;align-items:center;gap:10px;text-decoration:none;color:var(--accent);font-weight:700}
.brand img{width:54px;height:54px;border-radius:8px;cursor:default}
/* ensure the site title link matches the brand styling and has no underline */
.brand-link{color:var(--accent);text-decoration:none;font-weight:700;margin-left:6px;pointer-events:none;cursor:default}
.brand-link:hover{color:var(--accent-2)}
nav a{margin-left:14px;text-decoration:none;color:var(--muted);padding:8px 10px;border-radius:6px}
nav a.active{color:#fff;background:var(--accent);box-shadow:0 1px 0 rgba(11,61,145,0.08)}
nav a:hover{color:#fff;background:var(--accent-2)}

.container{max-width:980px;margin:24px auto;padding:0 16px;flex:1}
.page h1{margin-top:0}
.muted{color:var(--muted)}
.note{margin-top:16px;font-size:0.9rem;color:var(--muted)}

/* NOR grid */
.nor-grid{display:grid;grid-template-columns:repeat(auto-fit,minmax(240px,1fr));gap:16px;margin-top:16px}

/* Force a three-column layout on sufficiently wide viewports so the NOR page can show 3 tiles side-by-side */
@media (min-width: 900px) {
  .nor-grid {
    /* Use three equal columns but allow them to shrink no smaller than 240px */
    grid-template-columns: repeat(3, minmax(240px, 1fr));
  }
}

.nor-tile{background:var(--card);padding:16px;border:1px solid var(--border);border-radius:8px;display:flex;flex-direction:column;gap:10px}
.nor-tile h3{margin:0;font-size:1.05rem}
.tile-actions{margin-top:auto;display:flex;gap:8px}
.tile-actions button{background:var(--accent);color:#fff;border:none;padding:8px 10px;border-radius:6px;cursor:pointer}
.tile-actions button:hover{background:var(--accent-2)}
.tile-actions button:disabled{opacity:0.5;cursor:not-allowed}
.btn-link{display:inline-flex;align-items:center;gap:8px;padding:8px 10px;border-radius:6px;border:1px solid var(--border);text-decoration:none;color:var(--accent)}
.btn-link.disabled{opacity:0.5;pointer-events:none}
.btn-link:hover{border-color:var(--accent-2);color:var(--accent-2)}

/* Make .btn-link visually indicate an active/selected state (used by Jump-to-month buttons) */
.btn-link.active{
  background:var(--accent);
  color:#fff;
  border-color:var(--accent);
  box-shadow:0 10px 30px rgba(11,61,145,0.18);
  font-weight:700;
  transform:translateY(-2px);
  transition:transform 140ms ease, box-shadow 140ms ease, background 140ms ease;
  border-radius:8px;
}

.btn-link.active:hover{background:var(--accent)}

/* Make keyboard focus visible for buttons (improves accessibility) */
.btn-link:focus-visible{
  outline:3px solid rgba(30,111,184,0.14);
  outline-offset:2px;
}

/* iframe */
.iframe-wrap{background:var(--card);border:1px solid var(--border);border-radius:8px;overflow:hidden;margin-top:12px}
.iframe-wrap iframe{width:100%;height:600px;border:0}

/* Home layout */
.home-content{background:var(--card);padding:16px;border:1px solid var(--border);border-radius:8px}

/* Buttons and links */
.link{color:var(--accent-2);text-decoration:underline}
.link:hover{color:var(--accent)}

/* Mobile menu toggle (hamburger) */
.menu-toggle{
  display:none;
  background:transparent;
  border:0;
  width:44px;
  height:44px;
  padding:8px;
  align-items:center;
  justify-content:center;
  cursor:pointer;
  border-radius:8px;
  transition: background 160ms ease, transform 160ms ease;
  /* make the three spans stack vertically like a traditional hamburger */
  flex-direction:column;
  gap:6px;
}
.menu-toggle:hover{background:rgba(11,61,145,0.06)}
.menu-toggle:focus{outline:2px solid rgba(30,111,184,0.12);outline-offset:2px}
.menu-toggle span{
  display:block;
  width:20px;
  height:2px;
  background:var(--accent);
  border-radius:2px;
  margin:0;
  transition:transform 160ms ease, opacity 160ms ease, background 160ms ease;
  transform-origin: center;
}
.site-header.mobile-open .menu-toggle span{background:#fff}

/* Competitors table styles */
.table-wrap{overflow:auto;margin-top:12px;background:var(--card);border:1px solid var(--border);border-radius:8px;padding:8px}
.competitors-table{width:100%;border-collapse:collapse;font-size:0.95rem}
.competitors-table thead th{position:sticky;top:0;background:linear-gradient(180deg,#fff,#f7fbff);padding:8px 12px;text-align:left;border-bottom:2px solid var(--border);color:var(--accent);z-index:2}
.competitors-table tbody td{padding:8px 12px;border-bottom:1px solid var(--border);color:var(--muted)}
.competitors-table tbody tr:hover td{background:rgba(30,111,184,0.03);color:var(--accent)}
.competitors-controls{display:flex;gap:12px;align-items:center;justify-content:space-between;margin-bottom:8px}
.search-input{flex:1;max-width:420px;padding:8px 10px;border-radius:6px;border:1px solid var(--border);background:#fff}

/* table header button */
.th-button{
  background:transparent;border:0;padding:6px 8px;display:inline-flex;align-items:center;gap:8px;cursor:pointer;color:var(--accent);font-weight:600}
.th-button:hover{color:var(--accent-2)}

/* pagination */
.pagination{display:flex;align-items:center;justify-content:space-between;gap:12px;margin-top:12px;flex-wrap:wrap}
.pagination-left, .pagination-center, .pagination-right{display:flex;gap:8px;align-items:center}
.pagination button{background:#fff;border:1px solid var(--border);padding:6px 8px;border-radius:6px;cursor:pointer;color:var(--accent)}
.pagination button:hover:not(:disabled){background:var(--accent-2);color:#fff}
.pagination button:disabled{opacity:0.45;cursor:not-allowed}
.pagination button.active{background:var(--accent);color:#fff}

.page-size-select{padding:6px 8px;border-radius:6px;border:1px solid var(--border);background:#fff}

/* Gallery layout: make images render at 75% of the viewport width */
.gallery-grid{display:flex;flex-wrap:wrap;gap:16px;margin-top:16px;justify-content:center}
.gallery-item{flex:0 0 75vw;max-width:75vw;box-sizing:border-box}
.gallery-item img{width:100%;height:auto;display:block;border-radius:6px;object-fit:cover}
.gallery-item figcaption{margin-top:8px;font-size:0.9rem;color:var(--muted);text-align:center}

/* Calendar styles */
.calendar{background:var(--card);padding:16px;border:1px solid var(--border);border-radius:8px}
.calendar-header{display:flex;justify-content:space-between;align-items:center;gap:12px;margin-bottom:12px}
.calendar-header button{background:#fff;border:1px solid var(--border);padding:6px 10px;border-radius:6px;cursor:pointer;color:var(--accent)}
.calendar-header button:disabled{opacity:0.45;cursor:not-allowed}
.calendar-title{font-weight:700;font-size:1.05rem}

.calendar-grid{display:grid;grid-template-columns:repeat(5,1fr) 1.6fr 1.6fr;gap:8px}
.calendar-weekday{text-align:center;font-weight:600;padding:6px 8px;color:var(--muted)}
.calendar-day{min-height:100px;background:#fff;border:1px solid var(--border);border-radius:6px;padding:8px;position:relative;overflow:hidden}
.calendar-day.empty{background:transparent;border:0}
.calendar-date{position:absolute;top:6px;right:8px;font-size:0.85rem;color:var(--muted)}
.calendar-day.has-event{box-shadow:0 1px 0 rgba(11,61,145,0.04)}
.calendar-event{margin-top:28px;background:linear-gradient(180deg,#fff,#f7fbff);border-radius:6px;padding:8px;border:1px solid var(--border);font-size:0.92rem}
.calendar-event .ev-name{font-weight:600}
.calendar-event .ev-meta{font-size:0.85rem;color:var(--muted);margin-top:4px}

/* Clickable event look */
.calendar-event.clickable{cursor:pointer;padding:6px 8px;background:transparent;border-radius:6px}
.calendar-event.clickable:hover{background:linear-gradient(180deg,#fff,#f3f8ff);box-shadow:0 1px 0 rgba(11,61,145,0.04);transform:translateY(-2px);transition:transform 120ms ease}

/* Weekend emphasis */
.calendar-weekday.weekend{
  color:var(--accent-2);
  font-weight:800;
  background:linear-gradient(180deg, rgba(30,111,184,0.06), rgba(30,111,184,0.03));
  border-radius:6px;
  padding:8px 6px;
}

.calendar-day.weekend{
  background:linear-gradient(180deg,#f6fbff,#eef8ff);
  border-color: rgba(30,111,184,0.18);
  box-shadow: 0 6px 20px rgba(30,111,184,0.08);
}

/* Remove the colored pill behind the day number on weekend cells; keep the cell shading */
.calendar-day.weekend .calendar-date{
  /* no background, keep the date visible with accent color */
  color:var(--accent-2);
  font-weight:700;
  background:transparent;
  padding:0;
  border-radius:0;
}

.calendar-day.weekend .calendar-event .ev-name{
  font-weight:700;
  color:var(--accent);
}

.modal-overlay{position:fixed;inset:0;background:rgba(11,61,145,0.36);display:flex;align-items:center;justify-content:center;padding:20px;z-index:60}
.modal{background:var(--card);border-radius:8px;max-width:520px;width:100%;box-shadow:0 12px 40px rgba(11,61,145,0.12);border:1px solid var(--border);overflow:hidden}

/* Make the modal a bit smaller on the calendar page specifically (still responsive on small screens) */
.page.calendar-page .modal{
  max-width:360px;
}

.modal-header{display:flex;align-items:center;justify-content:space-between;padding:12px 16px;border-bottom:1px solid var(--border)}
.modal-body{padding:16px}
.modal-actions{padding:12px 16px;border-top:1px solid var(--border);display:flex;justify-content:flex-end}
.modal-close{background:transparent;border:0;font-size:20px;line-height:1;cursor:pointer;color:var(--muted)}

/* Highlight today's date */
.calendar-day.today{border-color:var(--accent-2);box-shadow:0 4px 12px rgba(30,111,184,0.08);}
.calendar-day.today .calendar-date{color:var(--accent-2);font-weight:700}

/* Mobile inline expand/collapse styles for calendar day */
@media (max-width:720px){
  /* small circular toggle in the top-left of the day cell */
  .calendar-day .expand-toggle{
    position:absolute;
    top:6px;
    left:8px;
    width:28px;
    height:28px;
    display:none; /* visible only on mobile via media query */
    align-items:center;
    justify-content:center;
    border-radius:6px;
    background:rgba(11,61,145,0.06);
    color:var(--accent);
    font-weight:700;
    cursor:pointer;
    z-index:6;
  }

  /* show the toggle on mobile */
  .calendar-day .expand-toggle{ display:flex; }

  /* expanded inline panel within the day cell */
  .calendar-day-expanded{
    margin-top:8px;
    background:linear-gradient(180deg,#fff,#f7fbff);
    border:1px solid var(--border);
    border-radius:8px;
    padding:8px;
    box-shadow:0 6px 18px rgba(11,61,145,0.06);
  }

  .calendar-day-expanded .expanded-ev{margin-bottom:8px}
  .calendar-day-expanded .expanded-ev:last-child{margin-bottom:0}
  .calendar-day-expanded .ev-name{font-size:0.95rem}
  .calendar-day-expanded .ev-meta{font-size:0.85rem;color:var(--muted);margin-top:4px}
  .calendar-day-expanded .expanded-actions{margin-top:8px;display:flex;gap:8px;flex-wrap:wrap}

  /* make sure the inline buttons look slightly more compact */
  .calendar-day-expanded .btn-link{padding:6px 8px;font-size:0.88rem}
}

@media (max-width:480px){
  .gallery-item{flex:0 0 100vw;max-width:100vw}
}

@media (max-width:720px), (pointer:coarse) {
  /* use max-height + opacity for smooth slide-down animation instead of display:none */
  nav{
    /* keep layout as column but collapsed by default */
    display:flex;flex-direction:column;gap:10px;padding:12px 14px 12px 18px;background:linear-gradient(180deg,#fff,#f3f8ff);border:1px solid rgba(30,111,184,0.06);border-radius:10px;min-width:240px;box-shadow:0 18px 40px rgba(11,61,145,0.12);
    position:absolute;top:56px;right:16px;overflow:visible;
    max-height:0;opacity:0;transform:translateY(-8px);
    transition: max-height 260ms ease, opacity 220ms ease, transform 220ms ease;
    z-index:58; /* sit above table headers and header (header z-index:54) but below modal-overlay (z-index:60) */
    pointer-events: none; /* disable clicks when closed */
  }
  /* left accent strip for stronger visual identity */
  nav::before{content:'';position:absolute;left:0;top:6px;bottom:6px;width:6px;background:var(--accent-2);border-radius:6px}
  nav a{margin:0;padding:10px 14px;color:var(--accent);border-radius:6px;font-size:1rem;font-weight:600}
  nav a.active{background:var(--accent);color:#fff}
  nav a:hover{background:var(--accent-2);color:#fff}
  .menu-toggle{display:flex;z-index:59;position:relative} /* ensure toggle sits above the nav for tap access */
  /* when mobile menu is open, expand the dropdown */
  .site-header.mobile-open nav{max-height:520px;opacity:1;transform:translateY(0);pointer-events:auto}
  /* animate hamburger to X when open */
  .site-header.mobile-open .menu-toggle span:nth-child(1){transform:translateY(6px) rotate(45deg)}
  .site-header.mobile-open .menu-toggle span:nth-child(2){opacity:0}
  .site-header.mobile-open .menu-toggle span:nth-child(3){transform:translateY(-6px) rotate(-45deg)}
}

@media (max-width:520px){
  .header-inner{padding:12px}
  nav a{margin-left:8px}
  .competitors-controls{flex-direction:column;align-items:stretch}
  .search-input{width:100%}
}

@media (max-width:720px){
  .calendar{ overflow-x:auto; -webkit-overflow-scrolling:touch; }
  .calendar-grid{ min-width:640px; }
  .calendar-grid{grid-template-columns:repeat(5,1fr) 1.4fr 1.4fr;gap:6px}
  .calendar-day{min-height:80px;padding:6px}
  .calendar-event{font-size:0.88rem;padding:6px}
}

/* Info panel used for important site notes (e.g., Competitors page) */
.info-panel{
  background:linear-gradient(180deg,#fff,#f7fbff);
  border:1px solid var(--border);
  padding:12px 14px;
  border-radius:8px;
  margin-top:12px;
  box-shadow:0 6px 18px rgba(11,61,145,0.06);
}
.info-panel p{margin:0;color:var(--muted);font-size:0.95rem;line-height:1.45}

@media (min-width:721px) and (max-width:850px) {
  /* Slightly tighter header for medium screens to avoid clutter when zoomed */
  .header-inner{
    padding:8px 12px;
  }

  /* Slightly smaller brand/logo */
  .brand img{
    width:45px;
    height:45px;
  }

  /* Slightly reduced title size and spacing */
  .brand-link{
    font-size:0.95rem;
    margin-left:4px;
  }

  /* Reduce nav link size and spacing so items fit on 721px widths */
  nav a{
    margin-left:8px;
    padding:6px 8px;
    font-size:0.95rem;
  }

  /* Slightly reduce hamburger size so it doesn't dominate */
  .menu-toggle{
    width:40px;
    height:40px;
  }
}

/* Make event tiles fill available width on small screens when marked with .full-width-mobile */
@media (max-width:720px) {
  .full-width-mobile {
    flex: 1 1 100% !important;
    min-width: 0 !important;
    max-width: 100% !important;
    width: 100% !important;
  }
}
